"use strict";var screenW=parseInt(window.getComputedStyle(document.getElementById("game")).width),screenH=document.documentElement.clientHeight,keyMap={startBgImg:"startBgImg",playBgImg:"playBgImg",joystick:"joystick",player:"player",playerBullet1:"playerBullet1",enemy:"enemy",popBgImg:"popBgImg",btnClose:"btnClose",gun:"gun",pet:"pet",collide:"collide",knife:"knife",knifeRotation:"skl4_9_path",audioBg:"audioBg",audioFire:"audioFire",audioTornado:"audioTornado",audioHit:"audioHit",audioArrow:"audioArrow",audioKnife:"audioKnife",ax:"ax",audioAx:"audioAx",audioFail:"audioFail",audioDead:"audioDead",audioSuccess:"audioSuccess",topTimeBg:"topTimeBg",tornado:"tornado",fireBall:"fireBall",tornadoRotation:"skl7_5_target_1"},game=new Phaser.Game(screenW,screenH,Phaser.CANVAS,"game"),bootState=function(){this.preload=function(){game.load.image(keyMap.startBgImg,"https://ressa-download.vsplay.com/eaysfj/tryNowGame/assets/images/bg.jpg")},this.create=function(){game.state.start("preloadState")}},preloadState=function(){var e,t;function a(a){e.beginFill(16777215),e.drawRect(10,game.world.centerY,game.world.width*(a/100)-20,10),t.text="".concat(a,"%")}this.preload=function(){game.add.image(0,0,keyMap.startBgImg),e=game.add.graphics(),t=game.add.text(game.world.centerX,game.world.centerY+50,"0%",{fill:"#fff"}),game.load.audio(keyMap.audioBg,"https://ressa-download.vsplay.com/eaysfj/tryNowGame/assets/audio/audio_bg.mp3"),game.load.audio(keyMap.audioFire,"https://ressa-download.vsplay.com/eaysfj/tryNowGame/assets/audio/audio_fire.mp3"),game.load.audio(keyMap.audioKnife,"https://ressa-download.vsplay.com/eaysfj/tryNowGame/assets/audio/audio_knife.mp3"),game.load.audio(keyMap.audioHit,"https://ressa-download.vsplay.com/eaysfj/tryNowGame/assets/audio/audio_hit.mp3"),game.load.audio(keyMap.audioAx,"https://ressa-download.vsplay.com/eaysfj/tryNowGame/assets/audio/audio_ax.mp3"),game.load.audio(keyMap.audioFail,"https://ressa-download.vsplay.com/eaysfj/tryNowGame/assets/audio/audio_fail.mp3?v=1.0"),game.load.audio(keyMap.audioSuccess,"https://ressa-download.vsplay.com/eaysfj/tryNowGame/assets/audio/audio_success.mp3"),game.load.image(keyMap.playerBullet1,"https://ressa-download.vsplay.com/eaysfj/tryNowGame/assets/images/arrow.png"),game.load.image(keyMap.topTimeBg,"https://ressa-download.vsplay.com/eaysfj/tryNowGame/assets/images/top_time.png"),game.load.spritesheet(keyMap.gun,"https://ressa-download.vsplay.com/eaysfj/tryNowGame/assets/images/arrow.png"),game.load.spritesheet(keyMap.pet,"https://ressa-download.vsplay.com/eaysfj/tryNowGame/assets/images/pet.png",131,151,2),game.load.spritesheet(keyMap.enemy,"https://ressa-download.vsplay.com/eaysfj/tryNowGame/assets/images/enemy.png",48,61,4),game.load.spritesheet(keyMap.fireBall,"https://ressa-download.vsplay.com/eaysfj/tryNowGame/assets/images/fire_1.png",299,158,4),game.load.spritesheet(keyMap.knife,"https://ressa-download.vsplay.com/eaysfj/tryNowGame/assets/images/knife.png",145,144,6),game.load.spritesheet(keyMap.player,"https://ressa-download.vsplay.com/eaysfj/tryNowGame/assets/images/role.png",40,64,2),game.load.spritesheet(keyMap.ax,"https://ressa-download.vsplay.com/eaysfj/tryNowGame/assets/images/ax.png",1246,1223,1),game.load.atlas(keyMap.joystick,"https://ressa-download.vsplay.com/eaysfj/tryNowGame/assets/images/joystick_1.png","https://ressa-download.vsplay.com/eaysfj/tryNowGame/assets/json/joystick.json"),game.load.onFileComplete.add(a)},this.create=function(){game.state.start("gamePlayState")}},gameStartState=function(){function a(){game.state.start("gamePlayState"),document.querySelector(".btns").style.display="none"}function e(){document.querySelector(".options-pop").style.display="flex"}this.preload=function(){game.add.image(0,0,keyMap.startBgImg)},this.create=function(){document.querySelector(".btns").style.display="block",document.querySelector(".btn-start").addEventListener("click",a),document.querySelector(".btn-config").addEventListener("click",e)}};game.state.add("bootState",bootState),game.state.add("preloadState",preloadState),game.state.add("gameStartState",gameStartState),game.state.add("gamePlayState",gamePlayState),game.state.start("bootState",preloadState),document.querySelector(".options-pop").addEventListener("click",function(){document.querySelector(".options-pop").style.display="none"}),document.querySelector(".options-pop .pop-content").addEventListener("click",function(a){a.stopPropagation()});var skillDomList=document.querySelectorAll(".btn-skill");