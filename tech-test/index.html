<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>test</title>
    <!-- <script src="https://cubism.live2d.com/sdk-web/cubismcore/live2dcubismcore.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/dylanNew/live2d/webgl/Live2D/lib/live2d.min.js"></script> -->
    <script type="module" src="./libs/pixi.mjs"></script>
    <script src="https://cdn.jsdelivr.net/npm/pixi-live2d-display/dist/cubism4.min.js"></script>
    <!-- <script src="https://cdn.jsdelivr.net/npm/pixi-live2d-display/dist/index.min.js"></script> -->
  </head>
  <body>
    <div class="main"></div>
  </body>
  <script type="module">
    // import * as PIXI from "./libs/pixi.mjs";
    // import { Live2DModel } from "pixi-live2d-display";
    window.PIXI = PIXI;
    console.log(PIXI);
    (async function () {
      // const app = new PIXI.Application({
      //   view: document.getElementsByClassName("main"),
      // });

      const model = await PIXI.Live2DModel.from(
        "./assets/live2d/yinli.model3.json"
      );

      app.stage.addChild(model);

      // 变换
      model.x = 100;
      model.y = 100;
      model.rotation = Math.PI;
      model.skew.x = Math.PI;
      model.scale.set(2, 2);
      model.anchor.set(0.5, 0.5);

      // 交互
      model.on("hit", (hitAreas) => {
        if (hitAreas.includes("body")) {
          model.motion("tap_body");
        }
      });
    })();
  </script>
</html>
